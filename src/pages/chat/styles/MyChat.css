/* 1. 기본 레이아웃 및 페이지 구조 */
.mychat-page {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: #ffffff;
}

.mychat-container {
  display: flex;
  flex: 1;
  overflow: hidden;
}

/* 2. 사이드바 스타일 */
.mychat-sidebar {
  width: 400px; /* 300px에서 400px로 증가 */
  border-right: 1px solid #f0f0f0;
  display: flex;
  flex-direction: column;
  padding: 20px 0;
}

.new-chat-btn {
  padding: 0 24px;
  margin-bottom: 30px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-list-section {
  flex: 1;
  overflow-y: auto;
}

.list-title {
  padding: 0 24px;
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 20px;
}

.chat-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.chat-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 24px;
  cursor: pointer;
  transition: background 0.2s;
}

.chat-item:hover { background-color: #f9f9f9; }
.chat-item.active { background-color: #e6f7ff; border-left: 4px solid #1890ff; }

.chat-info {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 12px; /* 제목과 태그 사이 간격 */
  min-width: 0; /* flex 아이템이 축소될 수 있도록 */
}

.chat-item-title {
  font-size: 14px;
  color: #333;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 1; /* 제목이 길면 축소 */
}

/* 태그가 제목 옆에 항상 표시되도록 */
.chat-item .chat-status-badge {
  flex-shrink: 0; /* 태그는 축소되지 않음 */
}

/* 3. 상태 배지 스타일 */
.chat-status-badge {
  font-size: 12px;
  padding: 2px 14px;
  border-radius: 6px;
  background-color: #fff;
  border: 1px solid #d9d9d9;
  color: #999;
  display: inline-flex;
  align-items: center;
  height: fit-content;
  min-width: 50px;
  justify-content: center;
}

.status-ing { color: #999; border-color: #d9d9d9; }
.status-adopted { color: #52c41a; border-color: #b7eb8f; }
.status-rejected { color: #ff4d4f; border-color: #ffa39e; }
.status-ended { color: #999; border-color: #999; }

/* 4. 메인 채팅 영역 */
.mychat-content {
  flex: 1;
  display: flex;
  background-color: #fafafa;
}

.chat-window {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background: white;
}

/* 5. 채팅 헤더 */
.chat-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 25px;
  border-bottom: 1px solid #eee;
  margin-bottom: 0; /* 헤더 아래 여백 제거 */
}

.header-left {
  flex: 1;
}

.header-right {
  flex-shrink: 0;
}

.header-top { 
  display: flex; 
  align-items: center; 
  gap: 12px; 
}

.header-title { 
  margin: 0; 
  font-size: 22px; 
  font-weight: 600; 
  color: #333; 
}

.header-bottom { 
  display: flex; 
  align-items: center; 
  gap: 16px; 
  font-size: 14px; 
  color: #999; 
  margin-top: 4px; 
}

.chat-exit-btn {
  background-color: #f8f9fa;
  border: 1px solid #ddd;
  padding: 6px 16px;
  border-radius: 20px;
  cursor: pointer;
  color: #666;
  font-size: 14px;
}

.chat-exit-btn:hover { 
  background-color: #ec8e8e; 
  color: white; 
  border-color: #ec8e8e; 
}

/* 6. 메시지 목록 */
.message-list {
  flex: 1;
  padding: 0; /* 상단 여백 제거 */
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 24px; /* 16px에서 24px로 증가 */
  background-color: #f5f7f9;
}

/* 메시지 래퍼: 전체 너비를 쓰고 내부 아이템을 정렬함 */
.message-wrapper {
  display: flex;
  width: 100%;
  flex-direction: column;
  padding: 0 40px; /* 각 메시지에 좌우 여백 적용 */
}

/* 첫 번째 메시지에만 위쪽 여백 */
.message-wrapper:first-child {
  padding-top: 20px;
}

/* 마지막 메시지에만 아래쪽 여백 */
.message-wrapper:last-child {
  padding-bottom: 20px;
}

/* --- 내 메시지: 오른쪽 끝으로 정렬 --- */
.message-wrapper.mine {
  align-items: flex-end;
  padding-right: 20px; /* 오른쪽 여백 줄여서 끝에 더 가깝게 */
}

/* 내 메시지: 말풍선과 시간을 가로로 배치 */
.message-wrapper.mine .msg-bubble {
  background-color: #4A76F2;
  color: #ffffff;
  border-radius: 12px 12px 0 12px;
  width: fit-content;
  max-width: 60%;
  padding: 12px 18px;
  box-shadow: 0 2px 8px rgba(74, 118, 242, 0.2);
  display: flex;
  flex-direction: column;
}

/* 내 메시지의 시간과 말풍선을 가로로 배치하는 컨테이너 */
.message-wrapper.mine > div {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-direction: row-reverse; /* 말풍선이 오른쪽, 시간이 왼쪽 */
}

.message-wrapper.mine .msg-date {
  color: #888;
  font-size: 11px;
  white-space: nowrap;
  align-self: flex-end;
  margin-bottom: 3px;
}

/* --- 상대방 메시지: 왼쪽 끝으로 정렬 --- */
.message-wrapper.others {
  align-items: flex-start;
  padding-left: 40px;
}

.message-wrapper.others .msg-bubble {
  background-color: #ffffff;
  color: #333333;
  border-radius: 12px 12px 12px 0;
  border: 1px solid #eee;
  width: fit-content;
  max-width: 60%;
  padding: 12px 18px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  display: flex;
  flex-direction: column;
}

/* 상대방 메시지의 시간과 말풍선을 가로로 배치하는 컨테이너 */
.message-wrapper.others > div {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-direction: row; /* 말풍선이 왼쪽, 시간이 오른쪽 */
}

.message-wrapper.others .msg-date {
  color: #aaa;
  font-size: 11px;
  white-space: nowrap;
  align-self: flex-end;
  margin-bottom: 3px;
}

/* 말풍선 내부 텍스트 스타일 */
.sender-name {
  font-size: 13px;
  font-weight: 700;
  color: #444;
  margin-bottom: 4px;
}

.msg-text {
  margin: 0;
  font-size: 14px;
  line-height: 1.5;
  word-break: break-all;
}

.msg-date {
  font-size: 11px;
  flex-shrink: 0; /* 시간은 축소되지 않도록 */
}

/* 7. 입력창 하단 바 */
.chat-input-wrapper {
  padding: 15px 40px;
  background-color: #fff;
  border-top: 1px solid #f0f0f0;
}

.chat-input-container {
  display: flex;
  align-items: center;
  background-color: #f0f2f5;
  padding: 10px 20px;
  border-radius: 25px;
  gap: 12px;
}

.chat-input-container input {
  flex: 1;
  border: none;
  background: transparent;
  outline: none;
  font-size: 14px;
}

.plus-btn {
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  font-size: 20px;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.send-btn {
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  display: flex;
  padding: 0;
  width: 24px;
  height: 24px;
}

.send-btn:hover { 
  color: #1890ff; 
}

/* 빈 상태 */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  color: #999;
}

.empty-state h2 {
  font-size: 24px;
  margin-bottom: 10px;
}

.empty-state p {
  font-size: 14px;
}

/* 상태 메시지 */
.status-message,
.msg-status {
  text-align: center;
  color: #999;
  padding: 20px;
  font-size: 14px;
}

/* 삭제된 메시지 */
.message-wrapper.deleted .msg-text {
  color: #999;
  font-style: italic;
}